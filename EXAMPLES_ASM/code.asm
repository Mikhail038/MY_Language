;----------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    push 0
    pop rax

    push 0
    pop rcx

    jump lbl_main

;----------------------------------------------------------------------------------------------------------------------------------------------------------------------------

lbl_fac:
    push rax
    pop rbx

    push 5
    pop rdx
    ret


;----------------------------------------------------------------------------------------------------------------------------------------------------------------------------


lbl_main:
    push rax
    pop rbx

lbl_0:
    push 3
    push 1
    jb lbl_1
    push 0
    jump lbl_2
lbl_1:
    push 1
lbl_2:
    push 0
    je lbl_3
;++

    push rcx
    push rcx
    pop rax

    call lbl_fac
    pop rcx
;++

    push rdx
    jump lbl_0
lbl_3:
    hlt


;----------------------------------------------------------------------------------------------------------------------------------------------------------------------------


